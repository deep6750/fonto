module.exports = function isAmdFactoryReturnStatement(
	path,
	/* istanbul ignore next */ factoryIsRemoved = false
) {
	/* istanbul ignore else */
	if (factoryIsRemoved) {
		// We removed the AMD factory once we get to this point,
		// so the factory return is now toplevel.
		//
		// Correct:
		//      return 'something';
		// path ^^^^^^^^^^^^^^^^^^^                            (ReturnStatement)
		//
		// Incorrect:
		//            function test () { return 'something'; }
		// path                          ^^^^^^^^^^^^^^^^^^^   (ReturnStatement)
		// parentFunc ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ (FunctionDeclaration)
		return path.getFunctionParent() === null;
	}

	/* istanbul ignore next */
	throw path.buildCodeFrameError('Not implemented!');
};
