import path from 'path';

export default (moduleRegistration, convertCommand, editorModulePath) => {
	convertCommand
		.addCommand(
			'editor',
			path.resolve(
				editorModulePath || moduleRegistration.getPath(),
				'src',
				'commands',
				'command.convert.editor.controller.js',
			),
		)
		.addAlias('app')
		.setDescription(
			'Convert a Fonto Editor instance from pre Fonto Editor 7.7 to a Fonto Editor 7.7 codebase.'
		)

		.setRequiresEditorRepository()

		.addOption(
			'no-overwrite',
			undefined,
			'Run the conversion on a copy of the working directory.'
		)
		.addOption(
			'no-save-warnings',
			undefined,
			'Do not save the warning output of the convert command.'
		);
};
