module.exports = function getDescendantNodes(
	path,
	includeSelf = true,
	returnPaths = false
) {
	const nodes = [];

	if (includeSelf) {
		nodes.push(returnPaths ? path : path.node);
	}

	path.traverse({
		enter(innerPath) {
			nodes.push(returnPaths ? innerPath : innerPath.node);
		},
	});

	return nodes;
};
