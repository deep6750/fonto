import express from 'express';

import configureProfileAvatarGetRouteHandler from './configureProfileAvatarGetRouteHandler.js';
import configureProfileGetPostRouteHandler from './configureProfileGetPostRouteHandler.js';
import ProfileDatabase from './profiles/ProfileDatabase.js';

const connectorsCmsStandardProfileRouter = express.Router();

function configureConnectorsCmsStandardProfileRouter(config) {
	const profileDatabase = new ProfileDatabase(config);

	connectorsCmsStandardProfileRouter
		.route('/connectors/cms/standard/profile/get')
		.post(configureProfileGetPostRouteHandler(profileDatabase));

	connectorsCmsStandardProfileRouter
		.route('/connectors/cms/standard/profile/avatar')
		.get(configureProfileAvatarGetRouteHandler(profileDatabase, config));

	return connectorsCmsStandardProfileRouter;
}

export default configureConnectorsCmsStandardProfileRouter;
