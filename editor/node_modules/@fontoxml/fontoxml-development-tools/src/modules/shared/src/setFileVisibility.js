import fswin from 'fswin';

/**
 * @param {string}  filePath
 * @param {boolean} isVisible
 *
 * @return {Promise<void>}
 */
export default function setFileVisibility(filePath, isVisible) {
	return new Promise((resolve, reject) => {
		if (fswin) {
			fswin.setAttributes(
				filePath,
				{ IS_HIDDEN: !isVisible },
				(success) => {
					if (!success) {
						reject();
						return;
					}
					resolve();
				}
			);
			return;
		}

		resolve();
	});
}
