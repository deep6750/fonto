import executeAndLog, { VERBOSITY_LEVEL } from '../../executeAndLog.js';

/** @typedef {import('../../executeAndLog').ProcessCreatedCallback} ProcessCreatedCallback */

/**
 * @param {string}                 registry
 * @param {FdtResponse}            res
 * @param {ProcessCreatedCallback} setPidToKillOnForceExit
 *
 * @returns {Promise<void>}
 */
export default async function tryDockerLogout(
	registry,
	res,
	setPidToKillOnForceExit
) {
	try {
		// Clear the time limited login credentials.
		await executeAndLog(
			res,
			'docker',
			['logout', registry],
			null,
			VERBOSITY_LEVEL.NORMAL,
			false,
			setPidToKillOnForceExit
		);
	} catch (_error) {
		// Ignore error.
	}
}
