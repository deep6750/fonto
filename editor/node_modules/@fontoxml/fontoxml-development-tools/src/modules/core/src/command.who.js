export default (moduleRegistration, app) => {
	async function whoController(req, res) {
		res.caption(req.command.getLongName());

		for (const appModule of app.modules) {
			const informers = appModule.getContextInformers();
			for (const informer of informers) {
				await informer(req, res);
			}
		}
	}

	moduleRegistration
		.registerCommand('who', whoController)
		.addAlias('whoami')
		.setDescription("Tells you what you are, and what you're doing here.");
};
