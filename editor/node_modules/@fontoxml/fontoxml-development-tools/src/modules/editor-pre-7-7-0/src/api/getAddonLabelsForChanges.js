import chalk from 'chalk';

import getAddonLabel from './getAddonLabel.js';

export default function getAddonLabelsForChanges(
	currentAddons,
	selectedAddons,
	sdkAddons
) {
	const addedAddons = selectedAddons.reduce((acc, addonName) => {
		if (!currentAddons.some((currentAddon) => currentAddon === addonName)) {
			acc.push(chalk.green(`+${getAddonLabel(addonName, sdkAddons)}`));
		}
		return acc;
	}, []);
	const removedAddons = currentAddons.reduce((acc, addonName) => {
		if (
			!selectedAddons.some((selectedAddon) => selectedAddon === addonName)
		) {
			acc.push(chalk.red(`-${getAddonLabel(addonName, sdkAddons)}`));
		}
		return acc;
	}, []);

	return addedAddons.concat(removedAddons);
}
