export default (addons, sdkAddons, fdtLicense) => {
	// Validate add-on names.
	const enabledAddons = addons.map((addonName) => {
		const addon = sdkAddons.find(
			(someAddon) => someAddon.package === addonName
		);
		if (!addon) {
			throw new Error(
				`Unknown add-on: ${addonName}. Please remove this add-on from your command line options and/or manifest.json and try again.`
			);
		}
		return addon;
	});

	// Validate add-on licenses.
	enabledAddons.forEach((addon) => {
		if (addon.licenses) {
			fdtLicense.ensureProductLicenses(addon.licenses);
		}
	});
};
