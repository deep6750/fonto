/**
 * Add dependencies to the passed add-ons array for all add-ons in the array which have dependencies.
 *
 * @param {Array<string>} addons    List of add-ons to complement with the dependencies of the add-ons in the list.
 * @param {Array<Object>} sdkAddons List of available add-ons in the SDK.
 *
 * @return {Array<string>} The, modified, add-ons array.
 */
export default (addons, sdkAddons) => {
	addons.forEach((addonName) => {
		const addon = sdkAddons.find(
			(someAddon) => someAddon.package === addonName
		);
		if (!addon || !addon.dependencies) {
			return;
		}

		addon.dependencies.forEach((dependency) => {
			if (!addons.includes(dependency)) {
				addons.push(dependency);
			}
		});
	});

	return addons;
};
